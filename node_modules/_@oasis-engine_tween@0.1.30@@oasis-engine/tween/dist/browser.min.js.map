{"version":3,"file":"browser.min.js","sources":["../src/Tween.ts","../src/Enums.ts","../src/BezierEasing.ts","../src/Easing.ts","../src/TweenerBase.ts","../src/Tweener.ts","../src/plugins/QuaternionPlugin.ts","../src/plugins/FloatPlugin.ts","../src/plugins/core/VectorPluginFactory.ts","../src/plugins/Vector2Plugin.ts","../src/plugins/Vector3Plugin.ts","../src/plugins/Vector4Plugin.ts","../src/adapters/o3.ts"],"sourcesContent":["/**\n * Tween类\n * @class\n */\nclass Tween {\n  private _nextId;\n  public tweeners;\n  /**\n   * @constructor\n   */\n  constructor() {\n    this._nextId = 0;\n    this.tweeners = {};\n  }\n\n  /**\n   * 下一个id\n   * @member {number}\n   * @readonly\n   */\n  getId() {\n    return this._nextId++;\n  }\n\n  /**\n   * 增加关键帧\n   * @param {Object} tweener 关键帧\n   */\n  add(tweener) {\n    if (!tweener.id) {\n      tweener.id = this.getId();\n    }\n    this.tweeners[tweener.id] = tweener;\n  }\n\n  /**\n   * 更新tween内部的状态,删除已经播放过且不需要的关键帧\n   * @param {number}  deltaTime 两帧之间的时间\n   */\n  update(deltaTime) {\n    for (const tweenerId in this.tweeners) {\n      const tweener = this.tweeners[tweenerId];\n\n      tweener.update(deltaTime);\n\n      // remove unused tweener\n      if (tweener._played && tweener._paused && !tweener.preserved) {\n        delete this.tweeners[tweenerId];\n      }\n    }\n  }\n}\n\nexport { Tween };\n","export const LOOP_TYPE = {\n  Restart: 0,\n  Yoyo: 1\n  // 暂时不实现\n  // Incremental: 2,\n};\n","/**\n * Fork from https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === \"function\";\n\nfunction A(aA1, aA2) {\n  return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n}\nfunction B(aA1, aA2) {\n  return 3.0 * aA2 - 6.0 * aA1;\n}\nfunction C(aA1) {\n  return 3.0 * aA1;\n}\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier(aT, aA1, aA2) {\n  return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n}\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope(aT, aA1, aA2) {\n  return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n}\n\nfunction binarySubdivide(aX, aA, aB, mX1, mX2) {\n  var currentX,\n    currentT,\n    i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n  for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n    var currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0.0) {\n      return aGuessT;\n    }\n    var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n  return aGuessT;\n}\n\nfunction LinearEasing(x) {\n  return x;\n}\n\nexport function bezier(mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error(\"bezier x values must be in [0, 1] range\");\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX(aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing(x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0 || x === 1) {\n      return x;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n}\n","import { bezier } from \"./BezierEasing\";\n\n// t, b, c, d => currentTime, startValue, changeInValue, totalTime\nexport function linear(t, b, c, d) {\n  return (c * t) / d + b;\n}\n\nexport function easeInQuad(t, b, c, d) {\n  return c * (t /= d) * t + b;\n}\n\nexport function easeOutQuad(t, b, c, d) {\n  return -c * (t /= d) * (t - 2) + b;\n}\n\nexport function easeInOutQuad(t, b, c, d) {\n  if ((t /= d / 2) < 1) {\n    return (c / 2) * t * t + b;\n  } else {\n    return (-c / 2) * (--t * (t - 2) - 1) + b;\n  }\n}\n\nexport function easeInCubic(t, b, c, d) {\n  return c * (t /= d) * t * t + b;\n}\n\nexport function easeOutCubic(t, b, c, d) {\n  return c * ((t = t / d - 1) * t * t + 1) + b;\n}\n\nexport function easeInOutCubic(t, b, c, d) {\n  if ((t /= d / 2) < 1) {\n    return (c / 2) * t * t * t + b;\n  } else {\n    return (c / 2) * ((t -= 2) * t * t + 2) + b;\n  }\n}\n\nexport function easeInQuart(t, b, c, d) {\n  return c * (t /= d) * t * t * t + b;\n}\n\nexport function easeOutQuart(t, b, c, d) {\n  return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n}\n\nexport function easeInOutQuart(t, b, c, d) {\n  if ((t /= d / 2) < 1) {\n    return (c / 2) * t * t * t * t + b;\n  } else {\n    return (-c / 2) * ((t -= 2) * t * t * t - 2) + b;\n  }\n}\n\nexport function easeInQuint(t, b, c, d) {\n  return c * (t /= d) * t * t * t * t + b;\n}\n\nexport function easeOutQuint(t, b, c, d) {\n  return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n}\n\nexport function easeInOutQuint(t, b, c, d) {\n  if ((t /= d / 2) < 1) {\n    return (c / 2) * t * t * t * t * t + b;\n  } else {\n    return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n  }\n}\n\nexport function easeInSine(t, b, c, d) {\n  return -c * Math.cos((t / d) * (Math.PI / 2)) + c + b;\n}\n\nexport function easeOutSine(t, b, c, d) {\n  return c * Math.sin((t / d) * (Math.PI / 2)) + b;\n}\n\nexport function easeInOutSine(t, b, c, d) {\n  return (-c / 2) * (Math.cos((Math.PI * t) / d) - 1) + b;\n}\n\nexport function easeInExpo(t, b, c, d) {\n  let _ref;\n  return (_ref = t === 0) !== null\n    ? _ref\n    : {\n        b: c * Math.pow(2, 10 * (t / d - 1)) + b\n      };\n}\n\nexport function easeOutExpo(t, b, c, d) {\n  let _ref;\n  return (_ref = t === d) !== null\n    ? _ref\n    : b +\n        {\n          c: c * (-Math.pow(2, (-10 * t) / d) + 1) + b\n        };\n}\n\nexport function easeInOutExpo(t, b, c, d) {\n  if (t === 0) {\n    b;\n  }\n  if (t === d) {\n    b + c;\n  }\n  if ((t /= d / 2) < 1) {\n    return (c / 2) * Math.pow(2, 10 * (t - 1)) + b;\n  } else {\n    return (c / 2) * (-Math.pow(2, -10 * --t) + 2) + b;\n  }\n}\n\nexport function easeInCirc(t, b, c, d) {\n  return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n}\n\nexport function easeOutCirc(t, b, c, d) {\n  return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n}\n\nexport function easeInOutCirc(t, b, c, d) {\n  if ((t /= d / 2) < 1) {\n    return (-c / 2) * (Math.sqrt(1 - t * t) - 1) + b;\n  } else {\n    return (c / 2) * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n  }\n}\n\nexport function easeInElastic(t, b, c, d) {\n  let a, p, s;\n  s = 1.70158;\n  p = 0;\n  a = c;\n  if (t === 0) {\n    b;\n  } else if ((t /= d) === 1) {\n    b + c;\n  }\n  if (!p) {\n    p = d * 0.3;\n  }\n  if (a < Math.abs(c)) {\n    a = c;\n    s = p / 4;\n  } else {\n    s = (p / (2 * Math.PI)) * Math.asin(c / a);\n  }\n  return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b;\n}\n\nexport function easeOutElastic(t, b, c, d) {\n  let a, p, s;\n  s = 1.70158;\n  p = 0;\n  a = c;\n  if (t === 0) {\n    b;\n  } else if ((t /= d) === 1) {\n    b + c;\n  }\n  if (!p) {\n    p = d * 0.3;\n  }\n  if (a < Math.abs(c)) {\n    a = c;\n    s = p / 4;\n  } else {\n    s = (p / (2 * Math.PI)) * Math.asin(c / a);\n  }\n  return a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) + c + b;\n}\n\nexport function easeInOutElastic(t, b, c, d) {\n  let a, p, s;\n  s = 1.70158;\n  p = 0;\n  a = c;\n  if (t === 0) {\n    b;\n  } else if ((t /= d / 2) === 2) {\n    b + c;\n  }\n  if (!p) {\n    p = d * (0.3 * 1.5);\n  }\n  if (a < Math.abs(c)) {\n    a = c;\n    s = p / 4;\n  } else {\n    s = (p / (2 * Math.PI)) * Math.asin(c / a);\n  }\n  if (t < 1) {\n    return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b;\n  } else {\n    return a * Math.pow(2, -10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) * 0.5 + c + b;\n  }\n}\n\nexport function easeInBack(t, b, c, d, s) {\n  if (s === void 0) {\n    s = 1.70158;\n  }\n  return c * (t /= d) * t * ((s + 1) * t - s) + b;\n}\n\nexport function easeOutBack(t, b, c, d, s) {\n  if (s === void 0) {\n    s = 1.70158;\n  }\n  return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n}\n\nexport function easeInOutBack(t, b, c, d, s) {\n  if (s === void 0) {\n    s = 1.70158;\n  }\n  if ((t /= d / 2) < 1) {\n    return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n  } else {\n    return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n  }\n}\n\nexport function easeInBounce(t, b, c, d) {\n  let v;\n  v = easeOutBounce(d - t, 0, c, d);\n  return c - v + b;\n}\n\nexport function easeOutBounce(t, b, c, d) {\n  if ((t /= d) < 1 / 2.75) {\n    return c * (7.5625 * t * t) + b;\n  } else if (t < 2 / 2.75) {\n    return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n  } else if (t < 2.5 / 2.75) {\n    return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n  } else {\n    return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n  }\n}\n\nexport function easeInOutBounce(t, b, c, d) {\n  let v;\n  if (t < d / 2) {\n    v = easeInBounce(t * 2, 0, c, d);\n    return v * 0.5 + b;\n  } else {\n    v = easeOutBounce(t * 2 - d, 0, c, d);\n    return v * 0.5 + c * 0.5 + b;\n  }\n}\n\n/**\n * 通过bezier曲线控制点入参生成easing\n * Hats off to gre：https://github.com/gre/bezier-easing\n *\n * @param x1 控制点1的 x，范围 0-1\n * @param y1 控制点1的 y，范围 0-1\n * @param x2 控制点2的 x，范围 0-1\n * @param y2 控制点2的 y，范围 0-1\n */\nexport function bezierEasing(x1, y1, x2, y2) {\n  const easing = bezier(x1, y1, x2, y2);\n\n  return (t, b, c, d) => {\n    return c * easing(t / d) + b;\n  };\n}\n","import { LOOP_TYPE } from \"./Enums\";\nimport * as Easing from \"./Easing\";\n\nconst noop = () => {};\n\n// on events\n// play, pause, complete, kill, rewind, update\n/**\n * TweenBase类\n * @class\n * @private\n */\nclass TweenerBase {\n  protected _time;\n  protected _paused;\n  protected _remainLoops;\n  protected _played;\n  public options;\n  public elapsedTime;\n  public interval;\n  public rewind;\n  public preserved;\n  public startValue;\n  public endValue;\n  public getter;\n  public setter;\n\n  constructor(getter, setter, endValue, interval, options = {}, target) {\n    this.options = {\n      id: \"\",\n      loops: {\n        // set -1 as infinite\n        count: 0,\n        type: LOOP_TYPE.Yoyo\n      },\n      easing: Easing.linear,\n      delay: 0,\n\n      plugin: noop,\n      pluginOptions: {},\n\n      // callbacks\n      onComplete: noop,\n      onTick: noop,\n\n      ...options\n    };\n\n    this._time = 0;\n    this._remainLoops = this.options.loops.count || 0;\n    this._paused = true;\n    this._played = false;\n    this.rewind = false;\n    this.preserved = false;\n\n    this.elapsedTime = 0;\n    this.startValue = getter();\n    this.endValue = endValue;\n    this.getter = getter;\n    this.setter = setter;\n\n    this.interval = interval;\n  }\n\n  duration() {}\n\n  update(deltaTime) {}\n\n  /**\n   * 设置循环数\n   * @param {number}  count 循环次数\n   * @param {LOOP_TYPE} type 循环类型\n   */\n  setLoops(count, type = LOOP_TYPE.Yoyo) {\n    this.options.loops = { count, type };\n    // reset loop\n    this._remainLoops = count;\n\n    return this;\n  }\n\n  set(key, value) {\n    this.options = { ...this.options, ...{ [key]: value } };\n    return this;\n  }\n\n  stop() {\n    this.options.onComplete(this);\n\n    this._paused = true;\n\n    return this;\n  }\n\n  pause() {\n    if (this._paused) return false;\n    this._paused = true;\n\n    return this;\n  }\n\n  start(tweenManager) {\n    if (tweenManager) {\n      tweenManager.add(this);\n    }\n\n    if (!this._paused) return false;\n    this.elapsedTime = 0;\n    this._paused = false;\n    this._played = true;\n\n    return this;\n  }\n}\n\nexport { TweenerBase };\n","import { LOOP_TYPE } from \"./Enums\";\nimport { TweenerBase } from \"./TweenerBase\";\n\nconst noop = () => {};\n\n// on events\n// play, pause, complete, kill, rewind, update\n/**\n * Tweener动画类\n * @extends TweenerBase\n */\nclass Tweener extends TweenerBase {\n  /**\n   * @constructor\n   * @param {function} getter 获取函数\n   * @param {function} setter 设置函数\n   * @param {number} endValue 结束值\n   * @param {number} interval 时间区间，以ms为单位\n   * @param {Object} options 配置\n   * @param target\n   * @param {function} options.onComplete 完成时调用的函数\n   */\n  constructor(getter, setter, endValue, interval, options = {}, target = null) {\n    super(getter, setter, endValue, interval, options, target);\n  }\n\n  /** 计算Tween动画总时长\n   * @member {number}\n   */\n  duration() {\n    // infinite\n    let duration = 0;\n\n    if (this.options.loops.count === -1) {\n      duration = -1;\n    } else {\n      // FIXME: add rewind time\n      duration = this.options.delay + this.options.loops.count * this.interval;\n    }\n\n    return duration;\n  }\n\n  /**\n   * 更新tween中的状态,并检测动画是否要结束\n   * @param {number} deltaTime 两帧之间的时间\n   * @private\n   */\n  update(deltaTime) {\n    this._time += deltaTime;\n    if (!this._paused) {\n      // if delay don't update\n      if (this.options.delay > this._time) {\n        return true;\n      }\n\n      this.elapsedTime += deltaTime;\n      // in case deltaTime is really big\n      this.elapsedTime = this.elapsedTime > this.interval ? this.interval : this.elapsedTime;\n\n      // on start callback\n      this.options.plugin(this);\n      this.options.onTick(this);\n\n      // everything has an end....\n      if (this.elapsedTime === this.interval) {\n        // loop it\n        if (this._remainLoops > 0 || this._remainLoops <= -1) {\n          switch (this.options.loops.type) {\n            case LOOP_TYPE.Yoyo:\n              this.rewind = !this.rewind;\n              this.elapsedTime = 0;\n              if (!this.rewind) {\n                this._remainLoops--;\n              }\n              break;\n            case LOOP_TYPE.Restart:\n              // reset\n              this.elapsedTime = 0;\n              this._remainLoops--;\n              break;\n          }\n        } else {\n          this.stop();\n        }\n      }\n\n      return true;\n    }\n  }\n}\n\nexport { Tweener };\n","import { Quaternion } from \"oasis-engine\";\n\nexport const QuaternionPlugin = (tweener) => {\n  const { easing } = tweener.options;\n\n  const result = new Quaternion();\n\n  const percent = easing(tweener.elapsedTime, 0, 1, tweener.interval);\n  Quaternion.slerp(tweener.startValue, tweener.endValue, percent, result);\n\n  tweener.setter(result);\n};\n","export const FloatPlugin = tweener => {\n  const easing = tweener.options.easing;\n\n  const result = easing(\n    tweener.elapsedTime,\n    tweener.startValue,\n    tweener.endValue - tweener.startValue,\n    tweener.interval\n  );\n\n  tweener.setter(result);\n};\n","import { Vector2, Vector3, Vector4 } from \"oasis-engine\";\n\nconst handleVecComp = (tweener, comp: string, result: Vector2 | Vector3 | Vector4) => {\n  const easing = tweener.options.easing;\n\n  let startValue = tweener.startValue[comp];\n  let offsetValue = tweener.endValue[comp] - tweener.startValue[comp];\n\n  if (tweener.rewind) {\n    startValue = tweener.endValue[comp];\n    offsetValue = tweener.startValue[comp] - tweener.endValue[comp];\n  }\n\n  result[comp] = easing(tweener.elapsedTime, startValue, offsetValue, tweener.interval);\n};\n\nconst VectorPluginGenerator = (count) => {\n  return (tweener) => {\n    let result;\n    switch (count) {\n      case 2:\n        result = new Vector2();\n        handleVecComp(tweener, \"x\", result);\n        handleVecComp(tweener, \"y\", result);\n        break;\n      case 3:\n        result = new Vector3();\n        handleVecComp(tweener, \"x\", result);\n        handleVecComp(tweener, \"y\", result);\n        handleVecComp(tweener, \"z\", result);\n        break;\n      default:\n        result = new Vector4();\n        handleVecComp(tweener, \"x\", result);\n        handleVecComp(tweener, \"y\", result);\n        handleVecComp(tweener, \"z\", result);\n        handleVecComp(tweener, \"w\", result);\n        break;\n    }\n\n    tweener.setter(result);\n  };\n};\n\nexport default VectorPluginGenerator;\n","import generator from \"./core/VectorPluginFactory\";\n\nconst Vector2Plugin = generator(2);\n\nexport { Vector2Plugin };\n","import generator from \"./core/VectorPluginFactory\";\n\nconst Vector3Plugin = generator(3);\n\nexport { Vector3Plugin };\n","import generator from \"./core/VectorPluginFactory\";\n\nconst Vector4Plugin = generator(4);\n\nexport { Vector4Plugin };\n","import * as TweenPlugins from \"../plugins\";\nimport { Tweener } from \"../Tweener\";\nimport { DataType } from \"oasis-engine\";\n\n/***  做旋转的插值变换\n * @param {Object}  obj 物体\n * @param {quat} endValue 旋转终值(四元数)\n * @param {number} interval 时间区间\n * @param {Object} options 选项\n * @param {function} options.onComplete 完成后调用函数\n */\nconst doTransformRotate = (obj, endValue, interval, options: any = {}) => {\n  options.plugin = options.plugin || TweenPlugins.QuaternionPlugin;\n  return new Tweener(\n    () => obj.rotation.clone(),\n    (value) => (obj.rotation = value),\n    endValue,\n    interval,\n    options,\n    obj\n  );\n};\n\n/*** 做平移的插值变换\n * @param {Object}  obj 物体\n * @param {Vector3} endValue 平移终值\n * @param {number} interval 时间区间\n * @param {Object} options 选项\n * @param {function} options.onComplete 完成后调用函数\n */\nconst doTransformTranslate = (obj, endValue, interval, options: any = {}) => {\n  options.plugin = options.plugin || TweenPlugins.Vector3Plugin;\n\n  return new Tweener(\n    () => obj.position.clone(),\n    (value) => (obj.position = value),\n    endValue,\n    interval,\n    options,\n    obj\n  );\n};\n\n/*** 做缩放的插值变换\n * @param {Object}  obj 物体\n * @param {Vector3} endValue 缩放终值\n * @param {number} interval 时间区间\n * @param {Object} options 选项\n * @param {function} options.onComplete 完成后调用函数\n */\nconst doTransformScale = (obj, endValue, interval, options: any = {}) => {\n  options.plugin = options.plugin || TweenPlugins.Vector3Plugin;\n  return new Tweener(\n    () => obj.scale.clone(),\n    (value) => (obj.scale = value),\n    endValue,\n    interval,\n    options,\n    obj\n  );\n};\n\n/*** 做材质参数的插值变换\n * @param {Material}  mtl 材质\n * @param {*} endValue 材质参数终值\n * @param {string} property 材质属性\n * @param {number} interval 时间区间\n * @param {Object} options 选项\n * @param {function} options.onComplete 完成后调用函数\n */\nconst doMaterialValue = (mtl, endValue, property = \"\", interval, options: any = {}) => {\n  options.plugin = options.plugin || TweenPlugins.FloatPlugin;\n\n  return new Tweener(\n    () => mtl.getValue(property),\n    (value) => mtl.setValue(property, value),\n    endValue,\n    interval,\n    options,\n    mtl\n  );\n};\n\n/*** 做材质颜色的插值变换\n * @param {Material}  mtl 材质\n * @param {Vector3} endValue 材质颜色终值\n * @param {string} property 材质属性\n * @param {number} interval 时间区间\n * @param {Object} options 选项\n * @param {function} options.onComplete 完成后调用函数\n */\nconst doMaterialColor = (mtl, endValue, property = \"\", interval, options: any = {}) => {\n  options.plugin = options.plugin || TweenPlugins.Vector3Plugin;\n\n  return new Tweener(\n    () => mtl.getValue(property),\n    (value) => {\n      mtl.setValue(property, [value[0] / 255, value[1] / 255, value[2] / 255]);\n    },\n    endValue,\n    interval,\n    options,\n    mtl\n  );\n};\n\n/*** 做一般数值的插值变换\n * @param {number|Vector2|Vector3|Vector4}  startValue 起始值\n * @param {function} setter 设置函数\n * @param {number|Vector2|Vector3|Vector4} endValue 终止值\n * @param interval\n * @param {Object} options 选项\n * @param {DataType} options.dataType\n * @param {function} options.onComplete 完成后调用函数\n */\nconst doTransformByDataType = (startValue, setter, endValue, interval, options: any = {}) => {\n  if (options.dataType === DataType.FLOAT_VEC2) {\n    options.plugin = options.plugin || TweenPlugins.Vector2Plugin;\n    return new Tweener(() => startValue.clone(), setter, endValue, interval, options);\n  } else if (options.dataType === DataType.FLOAT_VEC3) {\n    options.plugin = options.plugin || TweenPlugins.Vector3Plugin;\n    return new Tweener(() => startValue.clone(), setter, endValue, interval, options);\n  } else if (options.dataType === DataType.FLOAT_VEC4) {\n    options.plugin = options.plugin || TweenPlugins.Vector3Plugin;\n    return new Tweener(() => startValue.clone(), setter, endValue, interval, options);\n  } else {\n    options.plugin = options.plugin || TweenPlugins.FloatPlugin;\n    return new Tweener(() => startValue, setter, endValue, interval, options);\n  }\n};\n\nexport const doTransform = {\n  Rotate: doTransformRotate,\n  Translate: doTransformTranslate,\n  Scale: doTransformScale,\n  DataType: doTransformByDataType\n};\n\nexport const doMaterial = {\n  Float: doMaterialValue,\n  Color: doMaterialColor\n};\n"],"names":["Tween","_nextId","tweeners","this","tweener","id","getId","deltaTime","tweenerId","update","_played","_paused","preserved","LOOP_TYPE","Restart","Yoyo","kSampleStepSize","float32ArraySupported","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","LinearEasing","x","bezier","mX1","mY1","mX2","mY2","Error","sampleValues","Array","i","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","Math","abs","binarySubdivide","linear","t","b","c","d","easeInBounce","easeOutBounce","cos","PI","sin","_ref","pow","sqrt","a","p","s","asin","x1","y1","x2","y2","easing","noop","Tweener","getter","setter","endValue","interval","options","target","duration","loops","count","delay","_time","elapsedTime","plugin","onTick","_remainLoops","type","rewind","stop","startValue","Easing","pluginOptions","onComplete","key","value","tweenManager","add","QuaternionPlugin","result","Quaternion","percent","slerp","FloatPlugin","handleVecComp","comp","offsetValue","VectorPluginGenerator","Vector2","Vector3","Vector4","Vector2Plugin","generator","Vector3Plugin","Vector4Plugin","doTransform","Rotate","obj","TweenPlugins","rotation","clone","Translate","position","Scale","scale","DataType","dataType","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","doMaterial","Float","mtl","property","getValue","setValue","Color"],"mappings":"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"}